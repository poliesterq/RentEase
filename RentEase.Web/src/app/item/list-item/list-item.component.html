<div class="container">
  <div class="container-title">
    <h1>{{ "title.vacancies" | translate }}</h1>
    <button
      *ngIf="role === Role[Role.User]"
      class="button-add"
      mat-flat-button
      color="primary"
      [routerLink]="['/item/create']"
    >
      <mat-icon>add_circle_outline</mat-icon>
      {{ "title.vacancy" | translate }}
    </button>
  </div>
  <div class="container-vacancy">
    <div class="container-vacancy-filter">
      <form (ngSubmit)="filter()">
        <mat-form-field appearance="outline">
          <mat-label>{{ "title.search" | translate }}</mat-label>
          <mat-icon color="primary" matSuffix>search</mat-icon>
          <input matInput [formControl]="search" placeholder="Eindhoven" />
        </mat-form-field>

        <mat-slider
            [max]="1000"
            [min]="0"
            [step]="20"
            [thumbLabel]="true"
            >
            <!-- <input [formControl]="priceMinUS" value="priceMinUS" matSliderStartThumb>
            <input  [formControl]="priceMaxUS" value="priceMaxUS"  matSliderEndThumb> -->

        </mat-slider>

        <mat-slider min="200" max="500" [(ngModel)]="rangeValues" [thumbLabel]="true">
          <!-- <input value="300" matSliderStartThumb>
          <input value="400" matSliderEndThumb> -->
        </mat-slider>
     
        <mat-form-field appearance="outline">
          <mat-label>{{ "title.min_sal" | translate }}</mat-label>
          <mat-icon color="primary" matSuffix>attach_money</mat-icon>
          <input matInput [formControl]="priceMinUS" placeholder="200" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>{{ "title.min_sal" | translate }}</mat-label>
          <mat-icon color="primary" matSuffix>attach_money</mat-icon>
          <input matInput [formControl]="priceMaxUS" placeholder="200" />
        </mat-form-field>

        <!-- <label id="specialism-label">{{
          "title.specialism" | translate
        }}</label>
        <mat-checkbox-group
          [formControl]="categories"
          aria-labelledby="specialism-label"
          class="checkbox-group"
        >
          <mat-checkbox
            class="checkbox"
            *ngFor="let category of categoriesInit"
            [value]="category"
          >
            {{ Category[category] }}
          </mat-checkbox>
          <mat-checkbox class="checkbox" [value]="null" checked="true"
            >none</mat-checkbox
          >
        </mat-checkbox-group> -->

        <!-- <label id="remote-label">{{ "title.is_remote" | translate }}</label>
        <mat-radio-group
          [formControl]="isRemote"
          aria-labelledby="remote-label"
          class="radio-group"
        >
          <mat-radio-button
            class="radio-button"
            *ngFor="let type of remote"
            [value]="type"
          >
            {{ type ? "Remote" : "Pense" }}
          </mat-radio-button>
          <mat-radio-button class="radio-button" [value]="null" checked="true"
            >none</mat-radio-button
          >
        </mat-radio-group> -->

        <button type="submit" color="accent" mat-flat-button>
          {{ "title.search" | translate }}
        </button>
      </form>
    </div>
    <div *ngIf="allItems == undefined || allItems.length === 0; else itemList">
      <h3>There are no items</h3>
    </div>
  </div>

  <ng-template #itemList>
    <div>
      <div class="container-vacancy-list">
        <mat-card
          class="card-item"
          *ngFor="let item of items"
          [routerLink]="['/item/:id']"
          [queryParams]="{ id: item.id }"
        >
          <mat-card
            class="card-landlord"
            [routerLink]="['/profile/:id']"
            [queryParams]="{ id: item.landlordId }"
          >
            <mat-card-header>
              <mat-card-title>
                {{ item.landlord?.firstName }} {{ item.landlord?.lastName }}
              </mat-card-title>
              <!-- <mat-card-subtitle>Landlord</mat-card-subtitle> -->
            </mat-card-header>
          </mat-card>

          <mat-card-header>
            <mat-card-title>
              {{ item.title }}
            </mat-card-title>
            <mat-card-subtitle>
              {{ Category[item.category] }}
            </mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <img
              mat-card-image
              [src]="
                item.imageUrl
                  ? item.imageUrl
                  : 'assets/images/default-image.jpg'
              "
              alt="Photo of the item"
            />

            <p>
              <mat-icon color="primary">description</mat-icon>
              {{ item.description }}
            </p>
            <p>
              <mat-icon color="primary">location_on</mat-icon>
              {{ item.address }}
            </p>
            <p>
              <mat-icon color="primary" svgIcon="us"></mat-icon>
              {{ item.priceUS }}
            </p>
            <p *ngIf="language == 'ua'">
              <mat-icon color="primary" svgIcon="uah"></mat-icon>
              {{ item.priceUA }}
            </p>
          </mat-card-content>
        </mat-card>
      </div>
      <mat-paginator
        [length]="allItems.length"
        [pageSizeOptions]="[4, 8, 16, 24]"
        aria-label="Select page"
        (page)="pageEvent = $event; onPaginateChange($event)"
      >
      </mat-paginator>
    </div>
  </ng-template>
</div>
